<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bahia en Famille : Itin√©raire 11 Jours</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<script>
tailwind.config = {
theme: {
extend: {
fontFamily: {
sans: ['Poppins', 'sans-serif'],
},
colors: {
'bahia-red': '#FF6B6B',
'bahia-teal': '#4ECDC4',
'bahia-yellow': '#FFE66D',
'bahia-dark': '#292F36',
'bahia-light': '#F7FFF7',
}
}
}
}
</script>
<style>
body {
background-color: #F7FFF7;
color: #292F36;
}
.chart-container {
position: relative;
width: 100%;
max-width: 600px;
margin-left: auto;
margin-right: auto;
height: 300px; /* Mobile base /
max-height: 400px;
}
@media (min-width: 768px) {
.chart-container {
height: 350px; / Tablet/Desktop */
}
}
.card-shadow {
box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.timeline-line {
position: absolute;
left: 50%;
top: 0;
bottom: 0;
width: 4px;
background-color: #E5E7EB;
transform: translateX(-50%);
z-index: 0;
}
@media (max-width: 768px) {
.timeline-line {
left: 20px;
}
}
</style>
</head>
<body class="antialiased">

<!-- Header / Hero Section -->
<header class="bg-bahia-dark text-white py-12 px-4 md:px-8 shadow-lg">
    <div class="max-w-6xl mx-auto">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="mb-6 md:mb-0 text-center md:text-left">
                <h1 class="text-4xl md:text-5xl font-bold mb-2 text-bahia-yellow">Bahia <span class="text-bahia-teal">Authentique</span></h1>
                <p class="text-xl md:text-2xl font-light">Aventure Familiale & B√©b√© Voyageur</p>
                <div class="mt-4 flex flex-wrap justify-center md:justify-start gap-3">
                    <span class="bg-bahia-red px-3 py-1 rounded-full text-sm font-semibold">Ao√ªt (Hiver Tropical)</span>
                    <span class="bg-bahia-teal px-3 py-1 rounded-full text-sm font-semibold text-bahia-dark">11 Jours</span>
                    <span class="bg-bahia-yellow px-3 py-1 rounded-full text-sm font-semibold text-bahia-dark">Baleines & Canyons</span>
                </div>
            </div>
            <div class="text-6xl animate-pulse">
                üå¥üáßüá∑üê¢
            </div>
        </div>
        <div class="mt-8 bg-white/10 rounded-lg p-6 backdrop-blur-sm">
            <p class="italic text-center md:text-left text-gray-200">
                "Un itin√©raire con√ßu pour maximiser la d√©couverte (faune, paysages, culture) tout en respectant le rythme d'un b√©b√© de 1 an. Focus sur l'√âtat de Bahia pour √©viter les vols multiples."
            </p>
        </div>
    </div>
</header>

<!-- Navigation (Simple Sticky) -->
<nav class="sticky top-0 bg-white shadow-md z-50 overflow-x-auto whitespace-nowrap py-3 px-4">
    <div class="max-w-6xl mx-auto flex space-x-6 text-sm md:text-base font-semibold text-bahia-dark">
        <a href="#overview" class="hover:text-bahia-red transition-colors">Vue d'Ensemble</a>
        <a href="#itinerary" class="hover:text-bahia-red transition-colors">Itin√©raire Jour par Jour</a>
        <a href="#stats" class="hover:text-bahia-red transition-colors">Rythme & Budget</a>
        <a href="#gastronomy" class="hover:text-bahia-red transition-colors">Saveurs</a>
        <a href="#tips" class="hover:text-bahia-red transition-colors">Infos B√©b√©</a>
    </div>
</nav>

<main class="max-w-6xl mx-auto px-4 py-8 space-y-16">

    <!-- SECTION 1: OVERVIEW & TRIP DNA -->
    <section id="overview">
        <div class="mb-6">
            <h2 class="text-3xl font-bold text-bahia-dark border-l-4 border-bahia-teal pl-4">L'ADN du Voyage</h2>
            <p class="mt-2 text-gray-600">
                Voici comment ce voyage s'√©quilibre entre vos envies d'aventure et les besoins de confort pour la famille. Nous avons privil√©gi√© Bahia pour sa richesse culturelle et naturelle concentr√©e.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <!-- KPI Cards -->
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-white p-6 rounded-xl card-shadow text-center border-t-4 border-bahia-red">
                    <div class="text-4xl font-bold text-bahia-dark">26¬∞C</div>
                    <div class="text-sm text-gray-500 uppercase tracking-wide">Temp. Moyenne</div>
                </div>
                <div class="bg-white p-6 rounded-xl card-shadow text-center border-t-4 border-bahia-teal">
                    <div class="text-4xl font-bold text-bahia-dark">3</div>
                    <div class="text-sm text-gray-500 uppercase tracking-wide">Lieux Principaux</div>
                </div>
                <div class="bg-white p-6 rounded-xl card-shadow text-center border-t-4 border-bahia-yellow">
                    <div class="text-4xl font-bold text-bahia-dark">100%</div>
                    <div class="text-sm text-gray-500 uppercase tracking-wide">Sans Paludisme</div>
                </div>
                <div class="bg-white p-6 rounded-xl card-shadow text-center border-t-4 border-bahia-dark">
                    <div class="text-4xl font-bold text-bahia-dark">üêã</div>
                    <div class="text-sm text-gray-500 uppercase tracking-wide">Saison Baleines</div>
                </div>
            </div>

            <!-- Radar Chart -->
            <div class="bg-white p-4 rounded-xl card-shadow">
                <h3 class="text-center font-bold text-gray-700 mb-2">Profil de l'Exp√©rience</h3>
                <div class="chart-container">
                    <canvas id="tripDnaChart"></canvas>
                </div>
                <p class="text-xs text-center text-gray-400 mt-2">Un √©quilibre optimis√© pour la d√©couverte active avec b√©b√©.</p>
            </div>
        </div>
    </section>

    <!-- SECTION 2: ITINERARY TIMELINE -->
    <section id="itinerary">
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-bahia-dark border-l-4 border-bahia-red pl-4">Votre Aventure : 11 Jours</h2>
            <p class="mt-2 text-gray-600">
                Un parcours triangulaire optimis√© : Salvador (Culture) ‚ûî Chapada Diamantina (Nature/Trek) ‚ûî Praia do Forte (Plage/Faune).
            </p>
        </div>

        <div class="relative">
            <div class="timeline-line hidden md:block"></div>

            <div class="space-y-8" id="timeline-container">
                <!-- Days will be injected here by JS for easier management, but structured in HTML logic -->
            </div>
        </div>
    </section>

    <!-- SECTION 3: LOGISTICS & STATS -->
    <section id="stats" class="bg-white p-8 rounded-2xl card-shadow">
        <div class="mb-6">
            <h2 class="text-3xl font-bold text-bahia-dark border-l-4 border-bahia-yellow pl-4">Rythme & Logistique</h2>
            <p class="mt-2 text-gray-600">
                Comprendre l'intensit√© physique du voyage et la r√©partition estim√©e du budget pour 2 adultes et 1 b√©b√©.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <!-- Bar Chart: Intensity -->
            <div>
                <h3 class="text-lg font-bold text-center mb-4 text-bahia-teal">Niveau d'Activit√© Physique</h3>
                <div class="chart-container">
                    <canvas id="activityChart"></canvas>
                </div>
                <p class="text-sm text-gray-500 mt-4 text-center">
                    <span class="inline-block w-3 h-3 bg-bahia-red rounded-full mr-1"></span> Journ√©es intenses (D√©placements/Rando)
                    <span class="inline-block w-3 h-3 bg-bahia-teal rounded-full mr-1 ml-2"></span> Journ√©es cool (Plage/Ville)
                </p>
            </div>

            <!-- Doughnut Chart: Budget -->
            <div>
                <h3 class="text-lg font-bold text-center mb-4 text-bahia-yellow text-shadow-sm" style="text-shadow: 1px 1px 0 #ddd;">Estimation Budget</h3>
                <div class="chart-container">
                    <canvas id="budgetChart"></canvas>
                </div>
                <p class="text-sm text-gray-500 mt-4 text-center">Estimation hors vols internationaux. Bas√© sur un standing "Confort/Charme".</p>
            </div>
        </div>
    </section>

    <!-- SECTION 4: GASTRONOMY -->
    <section id="gastronomy">
        <div class="mb-6">
            <h2 class="text-3xl font-bold text-bahia-dark border-l-4 border-bahia-teal pl-4">Palette de Saveurs</h2>
            <p class="mt-2 text-gray-600">
                La cuisine de Bahia est unique au Br√©sil, h√©ritage direct de l'Afrique. √Ä ne pas manquer !
            </p>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="bg-white p-4 rounded-lg card-shadow text-center hover:bg-bahia-light transition cursor-pointer group">
                <div class="text-5xl mb-2 group-hover:scale-110 transition-transform">ü•ò</div>
                <h4 class="font-bold text-bahia-dark">Moqueca</h4>
                <p class="text-xs text-gray-500">Rago√ªt de poisson, lait de coco, huile de palme (Dend√™).</p>
            </div>
            <div class="bg-white p-4 rounded-lg card-shadow text-center hover:bg-bahia-light transition cursor-pointer group">
                <div class="text-5xl mb-2 group-hover:scale-110 transition-transform">üßÜ</div>
                <h4 class="font-bold text-bahia-dark">Acaraj√©</h4>
                <p class="text-xs text-gray-500">Beignet de haricot frit farci aux crevettes (Attention : Piment !).</p>
            </div>
            <div class="bg-white p-4 rounded-lg card-shadow text-center hover:bg-bahia-light transition cursor-pointer group">
                <div class="text-5xl mb-2 group-hover:scale-110 transition-transform">ü•û</div>
                <h4 class="font-bold text-bahia-dark">Tapioca</h4>
                <p class="text-xs text-gray-500">Cr√™pe de manioc sans gluten, sucr√©e ou sal√©e.</p>
            </div>
            <div class="bg-white p-4 rounded-lg card-shadow text-center hover:bg-bahia-light transition cursor-pointer group">
                <div class="text-5xl mb-2 group-hover:scale-110 transition-transform">üçπ</div>
                <h4 class="font-bold text-bahia-dark">Ca√Øpirinha</h4>
                <p class="text-xs text-gray-500">Cacha√ßa & Citron vert (Pour les parents !).</p>
            </div>
        </div>
    </section>

    <!-- SECTION 5: BABY TIPS -->
    <section id="tips" class="bg-bahia-teal/10 p-8 rounded-2xl border-2 border-bahia-teal/20">
        <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3">
                <h2 class="text-3xl font-bold text-bahia-dark mb-4">Kit de Survie <br><span class="text-bahia-red">Sp√©cial B√©b√©</span></h2>
                <div class="text-9xl text-center md:text-left">üë∂üéí</div>
            </div>
            <div class="md:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-lg shadow-sm flex items-start">
                    <span class="text-2xl mr-3">ü¶ü</span>
                    <div>
                        <h4 class="font-bold">Anti-Moustique</h4>
                        <p class="text-sm text-gray-600">Indispensable. Prenez une marque "Zone Tropiques" adapt√©e aux nourrissons.</p>
                    </div>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm flex items-start">
                    <span class="text-2xl mr-3">üö∞</span>
                    <div>
                        <h4 class="font-bold">Eau & Hygi√®ne</h4>
                        <p class="text-sm text-gray-600">Ne jamais boire l'eau du robinet. Pr√©voyez de l'eau min√©rale m√™me pour le brossage des dents.</p>
                    </div>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm flex items-start">
                    <span class="text-2xl mr-3">üéí</span>
                    <div>
                        <h4 class="font-bold">Porte-B√©b√© > Poussette</h4>
                        <p class="text-sm text-gray-600">Les pav√©s de Salvador et les sentiers de la Chapada rendent la poussette difficile. Pr√©f√©rez le portage.</p>
                    </div>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm flex items-start">
                    <span class="text-2xl mr-3">üíä</span>
                    <div>
                        <h4 class="font-bold">Sant√©</h4>
                        <p class="text-sm text-gray-600">Consultation p√©diatre avant d√©part. V√©rifiez les vaccins. Bahia est bien √©quip√© en pharmacies.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

<footer class="bg-bahia-dark text-white py-8 text-center mt-12">
    <p class="text-sm opacity-70">G√©n√©r√© par votre Assistant Voyagiste IA ‚Ä¢ Voyage au Br√©sil</p>
    <p class="text-xs opacity-50 mt-2">Les donn√©es budg√©taires et m√©t√©orologiques sont des estimations bas√©es sur les moyennes saisonni√®res.</p>
</footer>

<!-- JAVASCRIPT LOGIC -->
<script>
    // --- DATA STORE ---
    const itineraryData = [
        {
            day: 1,
            location: "Salvador de Bahia",
            title: "Arriv√©e & Immersion",
            icon: "üõ¨",
            desc: "Atterrissage √† Salvador. Transfert priv√© (recommand√© avec b√©b√©) vers le quartier historique du Pelourinho. Installation dans une Pousada de charme.",
            babyTip: "Privil√©giez un h√¥tel avec fen√™tres insonoris√©es, le Pelourinho est festif et bruyant le soir.",
            intensity: "Moyenne",
            color: "border-bahia-red"
        },
        {
            day: 2,
            location: "Salvador",
            title: "Couleurs & Percussions",
            icon: "ü•Å",
            desc: "Visite matinale (moins chaud) : √âglise S√£o Francisco (or massif) et rues color√©es. D√©jeuner local. Apr√®s-midi calme ou visite du Mercado Modelo.",
            babyTip: "Utilisez le porte-b√©b√©, les rues sont pav√©es et pentues. Chapeau et hydratation constante.",
            intensity: "Faible",
            color: "border-bahia-red"
        },
        {
            day: 3,
            location: "Vers la Chapada",
            title: "En route vers l'Aventure",
            icon: "üöå",
            desc: "D√©part pour Len√ß√≥is (Chapada Diamantina). Option Bus Confort (6h) ou Avion (45min + transfert). Installation au c≈ìur de la nature.",
            babyTip: "Si bus : prenez les places 'Leito' (couchettes) pour que b√©b√© puisse dormir confortablement.",
            intensity: "Forte",
            color: "border-bahia-teal"
        },
        {
            day: 4,
            location: "Chapada Diamantina",
            title: "Grottes & Eaux Cristallines",
            icon: "‚ú®",
            desc: "Visite de la Gruta da Pratinha : eau turquoise, baignade facile avec b√©b√©. Puis Gruta Azul pour la photo. Coucher de soleil au Morro do Pai In√°cio (mont√©e 20min).",
            babyTip: "La Pratinha a une 'plage' d'eau douce tr√®s s√ªre pour les tout-petits. Location de gilets possible.",
            intensity: "Moyenne",
            color: "border-bahia-teal"
        },
        {
            day: 5,
            location: "Chapada Diamantina",
            title: "Cascades Accessibles",
            icon: "üí¶",
            desc: "Po√ßo do Diabo : marche facile (20min), baignade rafra√Æchissante. Apr√®s-midi fl√¢nerie dans le village colonial de Len√ß√≥is.",
            babyTip: "L'eau des cascades est fra√Æche (20-22¬∞C), pr√©voyez un maillot thermique pour b√©b√© si frileux.",
            intensity: "Moyenne",
            color: "border-bahia-teal"
        },
        {
            day: 6,
            location: "Vers la C√¥te",
            title: "Retour vers l'Oc√©an",
            icon: "üöó",
            desc: "Trajet retour vers la c√¥te. Direction Praia do Forte, ancien village de p√™cheurs devenu station baln√©aire chic et √©co-responsable.",
            babyTip: "Longue journ√©e de transition. Pr√©voyez arr√™ts fr√©quents si voiture. Arriv√©e : piscine de l'h√¥tel !",
            intensity: "Forte",
            color: "border-bahia-yellow"
        },
        {
            day: 7,
            location: "Praia do Forte",
            title: "Tortues & Cocotiers",
            icon: "üê¢",
            desc: "Visite du Projet TAMAR (sanctuaire des tortues marines). Les bassins fascinent les enfants. Apr√®s-midi plage dans les piscines naturelles √† mar√©e basse.",
            babyTip: "Le Projet TAMAR est 100% accessible en poussette. Id√©al pour une balade √©ducative.",
            intensity: "Faible",
            color: "border-bahia-yellow"
        },
        {
            day: 8,
            location: "Praia do Forte",
            title: "Le Ballet des Baleines",
            icon: "üêã",
            desc: "Ao√ªt est le PIC de la saison. Sortie en bateau (catamaran stable) pour observer les baleines √† bosse. √âmotion garantie.",
            babyTip: "Choisissez un gros bateau (schooner/catamaran) plus stable pour b√©b√©. Gilet de sauvetage b√©b√© fourni.",
            intensity: "Moyenne",
            color: "border-bahia-yellow"
        },
        {
            day: 9,
            location: "Imbassa√≠",
            title: "Rivi√®re & Oc√©an",
            icon: "üõ∂",
            desc: "Excursion au village voisin d'Imbassa√≠. Baignade l√† o√π la rivi√®re rencontre la mer. D√©jeuner les pieds dans le sable.",
            babyTip: "La partie rivi√®re est chaude, calme et peu profonde : la piscine naturelle parfaite pour un an.",
            intensity: "Faible",
            color: "border-bahia-yellow"
        },
        {
            day: 10,
            location: "Praia do Forte",
            title: "D√©tente & Souvenirs",
            icon: "ü••",
            desc: "Journ√©e libre. Shopping artisanal, derni√®re eau de coco, visite des ruines du ch√¢teau Garcia D'Avila pour la vue.",
            babyTip: "Journ√©e 'rythme b√©b√©'. Sieste, parc, jeux de sable. Pas de stress avant le d√©part.",
            intensity: "Faible",
            color: "border-bahia-yellow"
        },
        {
            day: 11,
            location: "D√©part",
            title: "Adeus Brasil",
            icon: "üõ´",
            desc: "Transfert vers l'a√©roport de Salvador (1h de route). Vol retour la t√™te pleine de souvenirs.",
            babyTip: "Gardez des v√™tements chauds √† port√©e de main pour la clim de l'avion.",
            intensity: "Moyenne",
            color: "border-bahia-dark"
        }
    ];

    // --- RENDER TIMELINE ---
    const timelineContainer = document.getElementById('timeline-container');
    
    itineraryData.forEach((day, index) => {
        const isLeft = index % 2 === 0;
        const alignClass = isLeft ? 'md:flex-row' : 'md:flex-row-reverse';
        const textClass = isLeft ? 'md:text-right' : 'md:text-left';
        const marginClass = isLeft ? 'md:mr-8' : 'md:ml-8';

        const html = `
            <div class="relative flex flex-col md:flex-row items-center md:justify-between w-full">
                <!-- Spacer for Desktop Alignment -->
                <div class="hidden md:block w-5/12"></div>
                
                <!-- Center Dot/Icon -->
                <div class="absolute left-4 md:left-1/2 md:-translate-x-1/2 flex items-center justify-center w-10 h-10 rounded-full bg-white border-4 ${day.color} z-10 shadow-md">
                    <span class="text-lg">${day.icon}</span>
                </div>

                <!-- Content Card -->
                <div class="w-full md:w-5/12 pl-16 md:pl-0 ${isLeft ? 'md:pr-8' : 'md:pl-8'}">
                    <div class="bg-white p-5 rounded-lg card-shadow border-l-4 ${day.color} hover:scale-105 transition-transform duration-300">
                        <div class="flex justify-between items-start mb-2">
                            <span class="font-bold text-2xl text-bahia-dark">J${day.day}</span>
                            <span class="text-xs font-semibold bg-gray-100 text-gray-600 px-2 py-1 rounded">${day.location}</span>
                        </div>
                        <h3 class="text-lg font-bold text-bahia-dark mb-1">${day.title}</h3>
                        <p class="text-sm text-gray-600 mb-3 leading-relaxed">${day.desc}</p>
                        
                        <div class="bg-bahia-light p-3 rounded border border-bahia-teal/20 mt-3">
                            <p class="text-xs text-bahia-dark font-medium flex items-start">
                                <span class="mr-2">üë∂</span> 
                                <span>${day.babyTip}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        `;
        timelineContainer.insertAdjacentHTML('beforeend', html);
    });

    // --- CHART CONFIGURATION ---
    
    // 1. Radar Chart (Trip DNA)
    const ctxDNA = document.getElementById('tripDnaChart').getContext('2d');
    new Chart(ctxDNA, {
        type: 'radar',
        data: {
            labels: ['Faune Sauvage', 'Plages', 'Culture', 'Paysages', 'D√©tente', 'B√©b√© Friendly'],
            datasets: [{
                label: 'Score du Voyage',
                data: [90, 85, 95, 90, 70, 80],
                backgroundColor: 'rgba(78, 205, 196, 0.4)', // Bahia Teal
                borderColor: '#4ECDC4',
                pointBackgroundColor: '#FF6B6B',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#FF6B6B'
            }]
        },
        options: {
            maintainAspectRatio: false,
            scales: {
                r: {
                    angleLines: { color: '#eee' },
                    grid: { color: '#eee' },
                    pointLabels: {
                        font: { size: 12, family: 'Poppins' },
                        color: '#292F36'
                    },
                    suggestedMin: 0,
                    suggestedMax: 100,
                    ticks: { display: false } // Hide numbers on axis for cleaner look
                }
            },
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) return label.join(' ');
                            return label;
                        }
                    }
                }
            }
        }
    });

    // 2. Activity Intensity (Bar Chart)
    const ctxActivity = document.getElementById('activityChart').getContext('2d');
    const activityLevels = itineraryData.map(d => {
        if(d.intensity === "Forte") return 3;
        if(d.intensity === "Moyenne") return 2;
        return 1;
    });
    
    new Chart(ctxActivity, {
        type: 'bar',
        data: {
            labels: itineraryData.map(d => `J${d.day}`),
            datasets: [{
                label: 'Intensit√©',
                data: activityLevels,
                backgroundColor: activityLevels.map(lvl => {
                    if(lvl === 3) return '#FF6B6B'; // Red
                    if(lvl === 2) return '#FFE66D'; // Yellow
                    return '#4ECDC4'; // Teal
                }),
                borderRadius: 4
            }]
        },
        options: {
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 3.5,
                    ticks: {
                        callback: function(value) {
                            if(value === 1) return 'Cool';
                            if(value === 2) return 'Moyen';
                            if(value === 3) return 'Intense';
                            return '';
                        },
                        font: { family: 'Poppins' }
                    },
                    grid: { display: false }
                },
                x: {
                    grid: { display: false }
                }
            },
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) return label.join(' ');
                            return label;
                        },
                        label: function(context) {
                            const lvl = context.raw;
                            if(lvl === 3) return "Intense (Transport/Marche)";
                            if(lvl === 2) return "Moyen (Visite)";
                            return "Cool (Plage/D√©tente)";
                        }
                    }
                }
            }
        }
    });

    // 3. Budget (Doughnut)
    const ctxBudget = document.getElementById('budgetChart').getContext('2d');
    new Chart(ctxBudget, {
        type: 'doughnut',
        data: {
            labels: ['H√©bergement (Charme)', 'Transport (Priv√©/Avion)', 'Nourriture & Plaisirs', 'Activit√©s (Baleines/Guides)'],
            datasets: [{
                data: [40, 25, 20, 15],
                backgroundColor: [
                    '#4ECDC4', // Teal
                    '#292F36', // Dark
                    '#FFE66D', // Yellow
                    '#FF6B6B'  // Red
                ],
                borderWidth: 0
            }]
        },
        options: {
            maintainAspectRatio: false,
            cutout: '60%',
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: { family: 'Poppins', size: 11 },
                        boxWidth: 12,
                        padding: 15
                    }
                },
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) return label.join(' ');
                            return label;
                        }
                    }
                }
            }
        }
    });

</script>
</body>
</html>
